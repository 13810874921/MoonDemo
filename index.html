<!doctype html>
<html>
<head>
  <title>WebGL Moon Demo</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <link type="text/css" href="css/main.css" rel="stylesheet" />
  <noscript>
    Sorry, you need javascript enabled to view this web application. 
    Please check your browser's settings if you wish to run the app.
  </noscript>

  <!-- Include vendor scripts, jQuery, and Three.JS components -->
  <script type="text/ecmascript" src="vendor/jquery-1.9.1.min.js"></script>
  <script type="text/javascript" src="vendor/three.min.js"></script>
  <script type="text/javascript" src="vendor/TrackballControls.js"></script>
  <script type="text/javascript" src="vendor/detector.min.js"></script>
  <script type="text/javascript" src="vendor/stats.min.js"></script>
  <script type="text/javascript" src="vendor/screenfull.min.js"></script>
</head>
<body>

  <!-- Container for the WebGL renderer -->
  <div id="container"></div>

  <!-- Overlayed on-screen heads up display -->
  <div id="hud">
    <div class="hud-panel" id="top-right">
      <a href="http://github.com/CoryG89/MoonDemo">Moon Demo</a> -- WebGL / JS
      <br />Created by <a href="http://coryg89.github.io">Cory Gross</a>
    </div>
    <div class="hud-panel" id="bottom-right">
      <i>h</i> to toggle HUD - <i>p</i> for screenshot - <i>f</i> for fullscreen
    </div>
  </div>

  <!-- GLSL vertex shader for the moon -->
  <script id="vertexShader" type="x-shader/x-vertex">
        varying vec3 vNormal;
        uniform vec2 uvScale;
        varying vec2 vUv;

        void main() {
            vNormal = normal;
            vUv = uvScale * uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
  </script>

  <!-- GLSL fragment shader for the moon -->
  <script id="fragmentShader" type="x-shader/x-fragment">
        varying vec3 vNormal;
        varying vec2 vUv;
        uniform vec3 lightPosition;
        uniform sampler2D texture;

        void main() {
            float intensity = max(0.07, dot(vNormal, lightPosition));
            vec4 lighting = vec4(intensity, intensity, intensity, 1.0);
            gl_FragColor = texture2D(texture, vUv) * lighting;
        }
  </script>

  <script type="text/javascript" src="js/scene.js"></script>
</body>
</html>
